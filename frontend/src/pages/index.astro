---
import RecipeCard from "../components/RecipeCard.astro";
import { AllRecipesFull, type AllRecipesFullQuery } from "../generated/graphql";
import Layout from "../layouts/default.astro";
import { fetchGraphQL } from "../shared/fetch-data.js";

const query = await fetchGraphQL<AllRecipesFullQuery>(AllRecipesFull);
const recipes = query.recipes ?? [];
---

<Layout>
  <h1 class="h1">Alle Rezepte</h1>
  <div class="m-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {recipes.map((item) => <RecipeCard recipe={item} />)}
  </div>
</Layout>
